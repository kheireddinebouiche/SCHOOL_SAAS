# Generated by Django 5.1.4 on 2025-09-11 18:38

import django.db.models.deletion
import django_countries.fields
import t_crm.tenant_path
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('t_formations', '0002_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CrmCounter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_counter', models.DateField(blank=True, null=True)),
                ('visite_counter', models.IntegerField(default=0)),
                ('phone_counter', models.IntegerField(default=0)),
            ],
        ),
        migrations.CreateModel(
            name='FicheDeVoeuxAddiotionnel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
        ),
        migrations.CreateModel(
            name='Prospets',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nin', models.CharField(blank=True, max_length=255, null=True)),
                ('nom', models.CharField(max_length=255, null=True)),
                ('photo', models.ImageField(blank=True, null=True, upload_to=t_crm.tenant_path.tenant_directory_path_for_image)),
                ('prenom', models.CharField(max_length=255, null=True)),
                ('email', models.EmailField(max_length=254, null=True)),
                ('telephone', models.CharField(max_length=15, null=True)),
                ('type_prospect', models.CharField(choices=[('particulier', 'Particulier'), ('entreprise', 'Entreprise')], max_length=255, null=True)),
                ('canal', models.CharField(choices=[('email', 'Email'), ('telephone', 'Téléphone'), ('autre', 'Autre'), ('facebook', 'Facebook'), ('linkedin', 'LinkedIn'), ('instagram', 'Instagram'), ('tiktok', 'TikTok'), ('bouche-a-oreille', 'Bouche à oreille'), ('site', 'Site Web')], max_length=255, null=True)),
                ('etat', models.CharField(blank=True, choices=[('en_attente', 'En attente'), ('accepte', 'Accepté'), ('rejete', 'Rejeté')], default='en_attente', max_length=255, null=True)),
                ('entreprise', models.CharField(blank=True, max_length=255, null=True)),
                ('poste_dans_entreprise', models.CharField(blank=True, choices=[('salarie', 'Salarié'), ('responsable', 'Résponsable'), ('directeur', 'Directeur'), ('gerant', 'Gérant')], max_length=100, null=True)),
                ('observation', models.TextField(blank=True, null=True)),
                ('motif_rejet', models.CharField(blank=True, max_length=100, null=True)),
                ('groupe_sanguin', models.CharField(blank=True, choices=[('a-', 'A-'), ('a+', 'A+'), ('b+', 'B+'), ('b-', 'B+'), ('ab-', 'AB-'), ('ab+', 'AB+'), ('o-', 'o-'), ('o+', 'o+')], max_length=100, null=True)),
                ('nom_arabe', models.CharField(blank=True, max_length=100, null=True)),
                ('prenom_arabe', models.CharField(blank=True, max_length=100, null=True)),
                ('prenom_pere', models.CharField(blank=True, max_length=100, null=True)),
                ('tel_pere', models.CharField(blank=True, max_length=100, null=True)),
                ('nom_mere', models.CharField(blank=True, max_length=100, null=True)),
                ('prenom_mere', models.CharField(blank=True, max_length=100, null=True)),
                ('tel_mere', models.CharField(blank=True, max_length=100, null=True)),
                ('has_endicap', models.BooleanField(blank=True, default=False, null=True)),
                ('type_handicap', models.CharField(blank=True, max_length=1000, null=True)),
                ('adresse', models.CharField(blank=True, max_length=1000, null=True)),
                ('pays', models.CharField(blank=True, max_length=100, null=True)),
                ('wilaya', models.CharField(blank=True, max_length=100, null=True)),
                ('code_zip', models.CharField(blank=True, max_length=100, null=True)),
                ('date_naissance', models.DateField(blank=True, null=True)),
                ('lieu_naissance', models.CharField(blank=True, null=True)),
                ('niveau_scolaire', models.CharField(blank=True, choices=[('1_am', '1 am'), ('2_am', '2 am'), ('3_am', '3_am'), ('4_am', '4 am'), ('1_as', '1 AS'), ('2_as', '2 AS'), ('terminal', 'Terminal'), ('bac1', 'BAC +1'), ('bac2', 'BAC +2'), ('licence', 'Licence'), ('m', 'Master')], max_length=100, null=True)),
                ('diplome', models.CharField(blank=True, max_length=100, null=True)),
                ('etablissement', models.CharField(blank=True, max_length=100, null=True)),
                ('statut', models.CharField(blank=True, choices=[('visiteur', 'Visiteur'), ('prinscrit', 'Pré-inscript'), ('instance', 'Instance'), ('convertit', 'Convertit')], default='visiteur', max_length=100, null=True)),
                ('profile_completed', models.BooleanField(default=False)),
                ('has_completed_doc', models.BooleanField(default=False)),
                ('has_derogation', models.BooleanField(default=False)),
                ('has_second_wish', models.BooleanField(default=False)),
                ('is_ets_prospect', models.BooleanField(default=False)),
                ('is_client', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Prospect',
                'verbose_name_plural': 'Prospects',
            },
        ),
        migrations.CreateModel(
            name='DemandeInscription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('formule', models.CharField(blank=True, choices=[('week', 'Week-End'), ('jour', 'Cours du jour'), ('soir', 'Cours du soir')], max_length=255, null=True)),
                ('session', models.CharField(blank=True, choices=[('octobre', 'Octobre'), ('mars', 'mars')], max_length=255, null=True)),
                ('etat', models.CharField(blank=True, choices=[('annulation_approuver', "Demande d'annulation approuvée"), ('annulation', "Demande d'annulation"), ('en_attente', 'En attente'), ('accepte', 'Accepté'), ('rejete', 'Rejeté'), ('paiment', 'Procédure de paiement')], default='en_attente', max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_by_demande_inscription', to=settings.AUTH_USER_MODEL)),
                ('formation', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='t_formations.formation')),
                ('promo', models.ForeignKey(blank=True, limit_choices_to={'etat': 'active'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='promo_demande_inscription', to='t_formations.promos')),
                ('specialite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='t_formations.specialites')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_by_demande_inscription', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': "Demande d'inscription",
                'verbose_name_plural': "Demandes d'inscription",
            },
        ),
        migrations.CreateModel(
            name='FicheDeVoeux',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('commentaire', models.CharField(blank=True, max_length=1000, null=True)),
                ('is_confirmed', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('promo', models.ForeignKey(blank=True, limit_choices_to={'etat': 'active'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='promo_fiche_voeux', to='t_formations.promos')),
                ('specialite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='t_formations.specialites')),
                ('prospect', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.prospets')),
            ],
            options={
                'verbose_name': 'Fiche de Voeux',
                'verbose_name_plural': 'Fiches de Voeux',
            },
        ),
        migrations.CreateModel(
            name='NotesProcpects',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('note', models.TextField(blank=True, null=True)),
                ('tage', models.CharField(blank=True, choices=[('important', 'Important'), ('a_revoir', 'A revoir'), ('a_contacte', 'A contacter'), ('a_relancer', 'A relancer')], max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('context', models.CharField(blank=True, max_length=100, null=True)),
                ('is_done', models.BooleanField(default=False)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('prospect', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.prospets')),
            ],
            options={
                'verbose_name': 'Note de Prospect',
                'verbose_name_plural': 'Notes de Prospects',
            },
        ),
        migrations.CreateModel(
            name='DocumentsDemandeInscription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(blank=True, null=True, upload_to=t_crm.tenant_path.tenant_directory_path)),
                ('label', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('demande_inscription', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.demandeinscription')),
                ('id_document', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_formations.dossierinscription')),
                ('fiche_voeux', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.fichedevoeux')),
                ('prospect', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.prospets')),
            ],
            options={
                'verbose_name': "Documents de la demande d'inscription",
                'verbose_name_plural': "Documents de la demande d'inscription",
            },
        ),
        migrations.CreateModel(
            name='Derogations',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(blank=True, max_length=100, null=True)),
                ('motif', models.CharField(blank=True, max_length=100, null=True)),
                ('date_de_demande', models.DateField(auto_now_add=True)),
                ('statut', models.CharField(blank=True, choices=[('en_attente', 'En attente'), ('acceptee', 'Acceptée'), ('rejetee', 'Rejetée')], default='en_attente', max_length=100, null=True)),
                ('observation', models.CharField(blank=True, max_length=1000, null=True)),
                ('etat', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('demandeur', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.prospets')),
            ],
        ),
        migrations.CreateModel(
            name='RelancesProspet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_relance', models.DateField(blank=True, null=True)),
                ('canal', models.CharField(choices=[('email', 'Email'), ('telephone', 'Téléphone'), ('autre', 'Autre')], max_length=255, null=True)),
                ('objet', models.CharField(blank=True, max_length=255, null=True)),
                ('observation', models.TextField(blank=True, null=True)),
                ('etat', models.BooleanField(default=False)),
                ('prospect', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.prospets')),
            ],
            options={
                'verbose_name': 'Relance de Prospect',
                'verbose_name_plural': 'Relances de Prospects',
            },
        ),
        migrations.CreateModel(
            name='RendezVous',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('appel', 'Appel'), ('email', 'Email'), ('rendez_vous', 'Rendez-vous'), ('autre', 'Autre')], max_length=255, null=True)),
                ('object', models.CharField(blank=True, max_length=255, null=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('statut', models.CharField(blank=True, choices=[('en_attente', 'En attente'), ('confirme', 'Confirmé'), ('annule', 'Annulé'), ('termine', 'Terminé'), ('abouti', 'Abouti'), ('nabouti', 'Non abouti')], default='en_attente', max_length=255, null=True)),
                ('date_rendez_vous', models.DateField(blank=True, null=True)),
                ('heure_rendez_vous', models.TimeField(blank=True, null=True)),
                ('context', models.CharField(blank=True, max_length=100, null=True)),
                ('observation', models.CharField(blank=True, max_length=100, null=True)),
                ('archived', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('prospect', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.prospets')),
            ],
        ),
        migrations.CreateModel(
            name='Visiteurs',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('civilite', models.CharField(choices=[('monsieur', 'Mr.'), ('madame', 'Mme')], max_length=255, null=True)),
                ('nom', models.CharField(max_length=255, null=True)),
                ('prenom', models.CharField(max_length=255, null=True)),
                ('date_naissance', models.DateField(null=True)),
                ('lieu_naissance', models.CharField(max_length=255, null=True)),
                ('email', models.EmailField(max_length=254, null=True)),
                ('telephone', models.CharField(max_length=15, null=True)),
                ('adresse', models.TextField(null=True)),
                ('pays', django_countries.fields.CountryField(max_length=2, null=True)),
                ('type_visiteur', models.CharField(choices=[('particulier', 'Particulier'), ('entreprise', 'Entreprise')], max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('has_paied_enrollment', models.BooleanField(default=False)),
                ('has_completed_documents', models.BooleanField(default=False)),
                ('has_paid_fees', models.BooleanField(default=False)),
                ('cin', models.CharField(blank=True, max_length=255, null=True)),
                ('niveau_etude', models.CharField(blank=True, choices=[('9af', '9 AF/ 4 AM'), ('1as', '1 AS/2 AS'), ('ter', 'Terminal'), ('bac', 'Bac'), ('bac+2', 'Bac+2'), ('bac+3', 'Bac+3'), ('bac+4', 'Bac+4'), ('bac+5', 'Bac+5')], max_length=255, null=True)),
                ('situation_family', models.CharField(blank=True, choices=[('celibataire', 'Célibataire'), ('marie', 'Marié(e)')], max_length=255, null=True)),
                ('situation_professionnelle', models.CharField(blank=True, choices=[('etudiant', 'Etudiant(e)'), ('salarié', 'Salarié(e)'), ('employeur', 'Employeur'), ('sans_emploi', 'Sans emploi')], max_length=255, null=True)),
                ('post_occupe', models.CharField(blank=True, max_length=255, null=True)),
                ('experience', models.CharField(blank=True, max_length=255, null=True)),
                ('entreprise', models.CharField(blank=True, max_length=255, null=True)),
                ('is_student', models.BooleanField(default=False)),
                ('is_entreprise', models.BooleanField(default=False)),
                ('etat', models.CharField(blank=True, choices=[('visiteur', 'Visiteur'), ('instance', 'En Instance'), ('en_attente', 'En attente'), ('inscrit', 'Inscrit'), ('rejete', 'Rejeté')], default='visiteur', max_length=255, null=True)),
                ('observation', models.CharField(blank=True, max_length=1000, null=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Visiteur',
                'verbose_name_plural': 'Visiteurs',
            },
        ),
        migrations.AddField(
            model_name='demandeinscription',
            name='visiteur',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='t_crm.visiteurs'),
        ),
    ]
