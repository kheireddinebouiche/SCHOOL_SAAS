{% extends 'tenant_folder/base.html' %}
{% block title %}Entreprise - Nouvelle entreprise{% endblock title %}
{% block content %}

<div class="main-content">
  <div class="page-content bg-light">
    <div class="container-fluid">
      <!-- start page title -->
      <div class="row mb-3">
        <div class="col-12">
          <div class="d-sm-flex align-items-center justify-content-between bg-white rounded-lg shadow-sm p-3">
            <div class="d-flex align-items-center">
              <div class="bg-primary bg-opacity-10 rounded-circle p-2 me-2">
                <i class="ri-building-line text-primary"></i>
              </div>
              <h4 class="mb-0 text-primary">Nouvelle entreprise</h4>
            </div>
            <div class="page-title-right">
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb m-0 bg-transparent">
                  <li class="breadcrumb-item">
                    <a href="javascript: void(0);" class="text-muted">
                      <i class="ri-home-4-line me-1"></i>Entreprise
                    </a>
                  </li>
                  <li class="breadcrumb-item active text-primary">Nouvelle entreprise</li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
      </div>
      <!-- end page title -->

      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card shadow border-0 rounded-3">
            <div class="card-header bg-gradient-primary text-white p-3">
              <div class="d-flex justify-content-between align-items-center">
                <h4 class="card-title mb-0">
                  <i class="ri-building-4-line me-2"></i>Nouvelle entreprise
                </h4>
                <span class="badge bg-white text-primary px-3 py-2">Entreprise</span>
              </div>
            </div>
            <div class="card-body p-3">
              <form method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
                {% csrf_token %}
                  
                <!-- Informations de l'entreprise -->
                <div class="bg-light p-3 rounded-3 mb-3 border">
                  <div class="d-flex align-items-center mb-3">
                    <i class="ri-building-line text-primary me-2"></i>
                    <h5 class="text-primary mb-0">Informations de l'entreprise</h5>
                  </div>
                  <div class="row g-3">
                    <div class="col-lg-12">
                      <label class="form-label" for="id_designation">{{form.designation.label}}</label>
                      {{ form.designation }}
                    </div>
                  </div>
                </div>

                <!-- Identifiants administratifs -->
                <div class="bg-light p-3 rounded-3 mb-3 border">
                  <div class="d-flex align-items-center mb-3">
                    <i class="ri-file-text-line text-primary me-2"></i>
                    <h5 class="text-primary mb-0">Identifiants administratifs</h5>
                  </div>
                  <div class="row g-3">
                    <div class="col-lg-6">
                      <label class="form-label" for="id_rc">{{form.rc.label}}</label>
                      {{ form.rc }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_art">{{form.art.label}}</label>
                      {{ form.art }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_nif">{{form.nif.label}}</label>
                      {{ form.nif }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_nis">{{form.nis.label}}</label>
                      {{ form.nis }}
                    </div>
                  </div>
                </div>

                <!-- Coordonnées -->
                <div class="bg-light p-3 rounded-3 mb-3 border">
                  <div class="d-flex align-items-center mb-3">
                    <i class="ri-map-pin-line text-primary me-2"></i>
                    <h5 class="text-primary mb-0">Coordonnées</h5>
                  </div>
                  <div class="row g-3">
                    <div class="col-lg-6">
                      <label class="form-label" for="id_adresse">{{form.adresse.label}}</label>
                      {{ form.adresse }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_telephone">{{form.telephone.label}}</label>
                      {{ form.telephone }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_wilaya">{{form.wilaya.label}}</label>
                      {{ form.wilaya }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_pays">{{form.pays.label}}</label>
                      {{ form.pays }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_email">{{form.email.label}}</label>
                      {{ form.email }}
                    </div>
                    <div class="col-lg-6">
                      <label class="form-label" for="id_site_web">{{form.site_web.label}}</label>
                      {{ form.site_web }}
                    </div>
                  </div>
                </div>

                <!-- Entête -->
                <div class="bg-light p-3 rounded-3 mb-3 border">
                  <div class="d-flex align-items-center mb-3">
                    <i class="ri-file-text-line text-primary me-2"></i>
                    <h5 class="text-primary mb-0">Entête</h5>
                  </div>
                  <div class="row g-3">
                    <div class="col-lg-12">
                      <label class="form-label" for="id_entete">{{form.entete.label}}</label>
                      {{ form.entete }}
                    </div>
                    <div class="col-lg-12">
                      <label class="form-label" for="id_logo">{{form.logo.label}}</label>
                      {{ form.logo }}
                    </div>
                  </div>
                </div>

                <!-- Submit button -->
                <div class="text-end mt-3">
                  <button type="submit" class="btn btn-primary px-4 py-2 text-white">
                    <i class="ri-save-line me-2"></i>Enregistrer
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!--end col-->
      </div>
      <!--end row-->
    </div>
    <!-- container-fluid -->
  </div>
  <!-- End Page-content -->
</div>

<script>
  $(document).ready(function(){
  
    // Conversion automatique en majuscules pour le code
            const codeInput = document.getElementById('id_designationEts');
            if (codeInput) {
                codeInput.addEventListener('input', function() {
                    this.value = this.value.toUpperCase();
                });
            }

  });
</script>

{% endblock content %}