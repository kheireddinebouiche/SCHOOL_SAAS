{% extends 'tenant_folder/base.html' %}
{% load static %}
{% block title %} Entreprise - Détails de l'entreprise {% endblock title %}

{% block content %}
        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0">Détails de l'entreprise</h4>

                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Entreprise</a></li>
                                        <li class="breadcrumb-item active">Détails de l'entreprise</li>
                                    </ol>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- end page title -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="card-title mb-0"><i>{{entreprise.designation}}</i></h5>
                                </div>
                                <div class="card-body">
                                    <h4>Informations de l'entreprise</h4>
                                    <div class="row">
                                        <div class="col-lg-12 mb-3">
                                            <label for="designation" class="form-label">Désignation</label>
                                            <input type="text" class="form-control" id="designation" value="{{entreprise.designation}}" disabled>
                                        </div>
                                        <div class="col-lg-12 mb-3">
                                            <label for="adresse" class="form-label">Adresse</label>
                                            <input type="text" class="form-control" id="adresse" value="{{entreprise.adresse}}" disabled>
                                        </div>
                                        <div class="col-lg-6 mb-3">
                                            <label for="adresse" class="form-label">Wilaya</label>
                                            <input type="text" class="form-control" id="adresse" value="{{entreprise.wilaya}}" disabled>
                                        </div>
                                        <div class="col-lg-6 mb-3">
                                            <label for="adresse" class="form-label">Pays</label>
                                            <input type="text" class="form-control" id="adresse" value="{{entreprise.pays}}" disabled>
                                        </div>
                                        <div class="col-lg-4 mb-3">
                                            <label for="telephone" class="form-label">Téléphone</label>
                                            <input type="text" class="form-control" id="telephone" value="{{entreprise.telephone}}" disabled>
                                        </div>
                                        <div class="col-lg-4 mb-3">
                                            <label for="email" class="form-label">Email</label>
                                            <input type="text" class="form-control" id="email" value="{{entreprise.email}}" disabled>
                                        </div>
                                        <div class="col-lg-4 mb-3">
                                            <label for="site_web" class="form-label">Site web</label>
                                            <input type="text" class="form-control" id="site_web" value="{{entreprise.site_web}}" disabled>
                                        </div>
                                    </div>
                                    <h4>Informations facturation</h4>
                                    <div class="row">
                                        <div class="col-lg-3 mb-3">
                                            <label for="rc" class="form-label">N° Registre Commerce</label>
                                            <input type="text" class="form-control" id="rc"  value="{{entreprise.rc}}" disabled>
                                        </div>
                                        <div class="col-lg-3 mb-3">
                                            <label for="art" class="form-label">N° Article</label>
                                            <input type="text" class="form-control" id="art"  value="{{entreprise.art}}" disabled>
                                        </div>
                                        <div class="col-lg-3 mb-3">
                                            <label for="nif" class="form-label">N° Identification Fiscal</label>
                                            <input type="text" class="form-control" id="nif"  value="{{entreprise.nif}}" disabled>
                                        </div>
                                        <div class="col-lg-3 mb-3">
                                            <label for="nis" class="form-label">N° Identification Statistique</label>
                                            <input type="text" class="form-control" id="nis"  value="{{entreprise.nis}}" disabled>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <a href="{% url 'institut_app:liste_entreprise' %}" class="btn btn-soft-secondary">Retour</a>
                                    <button id="updateInfosButton" data-id="{{entreprise.id}}" class="btn btn-soft-primary">Modifier</button>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- container-fluid -->
            </div>
            <!-- End Page-content -->

        </div>

        <div id="updateEntreprise" class="modal fade" tabindex="-1" aria-labelledby="updateEntrepriseLabel" aria-hidden="true" style="display: none;">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="updateEntrepriseLabel">Modification des informations de l'entreprise</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form method="POST">
                            {% csrf_token %}
                                <label for="_designation">Désignation</label>
                                <input type="text" id="_designation" class="form-control" value="{{entreprise.designation}}" placeholder="Désignation">
                                <div class="row mt-3">
                                    <div class="col-lg-12 mb-3">
                                        <label for="_adresse">Adresse</label>
                                        {{updateForm.adresse}}
                                    </div>
                                    <div class="col-lg-6 mb-3">
                                        <label for="_wilaya">Wilaya</label>
                                        {{updateForm.wilaya}}
                                    </div>
                                    <div class="col-lg-6 mb-3">
                                        <label for="_pays">Pays</label>
                                        {{updateForm.pays}}
                                    </div>
                                    
                                    <div class="col-lg-4">
                                        <label for="_email">Email</label>
                                        {{updateForm.email}}
                                    </div>
                                    <div class="col-lg-4">
                                        <label for="_telephone">Téléphone</label>
                                        {{updateForm.telephone}}
                                    </div>
                                    <div class="col-lg-4">
                                        <label for="_web">Site WEB</label>
                                        {{updateForm.site_web}}
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-lg-3">
                                        <label for="rc">N° Registre Commerce</label>
                                        {{updateForm.rc}}
                                    </div>
                                    <div class="col-lg-3">
                                        <label for="_article">N° Article</label>
                                        {{updateForm.art}}
                                    </div>
                                    <div class="col-lg-3">
                                        <label for="_nif">N° Identification Fiscal</label>
                                        {{updateForm.nif}}
                                    </div>
                                    <div class="col-lg-3">
                                        <label for="_nis">N° Identification Statistique</label>
                                        {{updateForm.nis}}
                                    </div>
                                </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Fermer</button>
                        <button type="submit"  id="confirmUpdateBtn" class="btn btn-primary ">Enregistrer les changements</button>
                    </div>
                </form>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->


<script>

    $(document).ready(function() {
        $('#updateInfosButton').click(function() {
            $('#updateEntreprise').modal('show');
        });

    });

</script>
{% endblock content %}
           



    